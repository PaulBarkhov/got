(this["webpackJsonpgame-of-thrones"]=this["webpackJsonpgame-of-thrones"]||[]).push([[0],{26:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),c=n(14),r=n.n(c),i=(n(26),n(7)),o=n(8),l=n(10),d=n(9),j=n(21),m=n(40),u=n(41),h=n(42),b=n(53),O=n(43),f=n(44),p=n(45),g=n(1);function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"characters";return e}function v(){var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(m.a,{color:"faded",light:!0,expand:"md",className:"header",children:[Object(g.jsx)(u.a,{className:"mr-auto",children:"Game Of Thrones"}),Object(g.jsx)(h.a,{onClick:function(){s(!n)}}),Object(g.jsx)(b.a,{isOpen:!n,navbar:!0,children:Object(g.jsxs)(O.a,{navbar:!0,className:"flex space-between",children:[Object(g.jsx)(f.a,{children:Object(g.jsx)(p.a,{onClick:function(){x("characters")},children:"Characters"})}),Object(g.jsx)(f.a,{children:Object(g.jsx)(p.a,{onClick:function(){x("houses")},children:"Houses"})}),Object(g.jsx)(f.a,{children:Object(g.jsx)(p.a,{children:"Books"})})]})})]})})}var I=n(46),k=n(47),y=n(48),w=n(49),C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={name:Object(g.jsx)(I.a,{size:"sm",color:"primary"}),gender:Object(g.jsx)(I.a,{size:"sm",color:"primary"}),born:Object(g.jsx)(I.a,{size:"sm",color:"primary"}),died:Object(g.jsx)(I.a,{size:"sm",color:"primary"}),culture:Object(g.jsx)(I.a,{size:"sm",color:"primary"})},e.getRandomItem=function(){console.log("Updating random item..."),fetch("https://anapioficeandfire.com/api/characters/".concat(Math.floor(100*Math.random()+25))).then((function(e){return e.json()})).then((function(t){e.setState({name:t.name,gender:t.gender,born:t.born,died:t.died,culture:t.culture})})).catch((function(t){e.setState({name:"Error",gender:"Error",born:"Error",died:"Error",culture:"Error"})}))},e.refreshRandomChartacter=function(t){t.preventDefault(),e.getRandomItem()},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){console.log("mounting random item"),this.timerId=setInterval(this.getRandomItem,3e3)}},{key:"componentWillUnmount",value:function(){console.log("unmounting random item"),clearInterval(this.timerId)}},{key:"render",value:function(){console.log("rendering random item...");var e=this.state,t=e.name,n=e.gender,a=e.born,s=e.died,c=e.culture;return Object(g.jsxs)(k.a,{className:"margin mw400",children:[Object(g.jsxs)(y.a,{className:"cardHeader",children:[Object(g.jsx)("span",{children:"Random character:"}),Object(g.jsx)("br",{}),Object(g.jsx)("h2",{className:"mt10",children:t||"Unknow"}),Object(g.jsx)(w.a,{color:"basic",className:"btn-refresh",onClick:this.refreshRandomChartacter,children:Object(g.jsx)("i",{className:"fa fa-redo"})})]}),Object(g.jsxs)(y.a,{className:"flex space-between center",children:[Object(g.jsx)("span",{children:"Gender"}),Object(g.jsx)("span",{children:n||"Unknow"})]}),Object(g.jsxs)(y.a,{className:"flex space-between center",children:[Object(g.jsx)("span",{children:"Born"}),Object(g.jsx)("span",{children:a||"Unknow"})]}),Object(g.jsxs)(y.a,{className:"flex space-between center",children:[Object(g.jsx)("span",{children:"Died"}),Object(g.jsx)("span",{children:s||"Unknow"})]}),Object(g.jsxs)(y.a,{className:"flex space-between center",children:[Object(g.jsx)("span",{children:"Culture"}),Object(g.jsx)("span",{children:c||"Unknow"})]})]})}}]),n}(a.Component),N=(n(37),n(50)),L=n(51),R=n(52),U=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={name:"",gender:"",born:"",died:"",culture:"",autors:"",numberOfPages:"",released:"",country:""},e.updateItemDetails=function(){var t=e.props.item,n=t.gender,a=t.born,s=t.died,c=t.culture,r=t.autors,i=t.numberOfPages,o=t.released,l=t.country;e.setState({gender:n,born:a,died:s,culture:c,autors:r,numberOfPages:i,released:o,country:l}),console.log("HOOK: Item details have been updated")},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){console.log("HOOK: Item details are mounted"),this.updateItemDetails()}},{key:"render",value:function(){if(this.props.i!==this.props.selectedItem)return console.log("Wrong"),Object(g.jsx)(g.Fragment,{});console.log("rendering Item details...");var e,t,n,a,s,c,r,i,o=this.props.art,l=this.state,d=l.gender,j=l.born,m=l.died,u=l.culture,h=l.autors,b=l.numberOfPages,O=l.released,f=l.country;return"characters"===o&&(e="Gender",t=d,n="Born",a=j,s="Died",c=m,r="Culture",i=u),"books"===o&&(e="Autors",t=h,n="NumberOfPages",a=b,s="Released",c=O,r="Country",i=f),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(k.a,{className:"mt20",children:[Object(g.jsxs)(y.a,{color:"info",className:"item-detailed-info flex space-between center ovh",children:[Object(g.jsx)("span",{children:e}),Object(g.jsx)("span",{children:t||"Unknown"})]}),Object(g.jsxs)(y.a,{color:"info",className:"item-detailed-info flex space-between center ovh nowrap",children:[Object(g.jsx)("span",{children:n}),Object(g.jsx)("span",{children:a||"Unknown"})]}),Object(g.jsxs)(y.a,{color:"info",className:"item-detailed-info flex space-between center ovh",children:[Object(g.jsx)("span",{children:s}),Object(g.jsx)("span",{children:c||"Unknown"})]}),Object(g.jsxs)(y.a,{color:"info",className:"item-detailed-info flex space-between center ovh",children:[Object(g.jsx)("span",{children:r}),Object(g.jsx)("span",{children:i||"Unknown"})]})]}),Object(g.jsx)(w.a,{className:"mt10 float-right",children:"Close"})]})}}]),n}(a.Component),D=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={itemList:[],selectedItem:"",page:1,art:x()},e.onItemSelected=function(t,n){t!==e.state.selectedItem&&e.setState({selectedItem:t}),e.expandItem(n)},e.ItemDetails=function(t,n){if(t===e.state.selectedItem)return Object(g.jsx)(U,{item:n,art:e.state.art,i:t,selectedItem:e.state.selectedItem})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){console.log("Item list is mounted"),this.getItemList()}},{key:"getItemList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;fetch("https://anapioficeandfire.com/api/".concat(this.state.art,"?page=").concat(t)).then((function(e){return e.json()})).then((function(n){e.setState({itemList:n,selectedItem:null,page:t})})),console.log("Item list has been updated")}},{key:"expandItem",value:function(e){e.target.classList.contains("btn")&&(e.target.parentElement.classList.toggle("collapsedItem"),e.target.parentElement.classList.toggle("expandedItem")),e.target.classList.contains("Item-detailed-info")||e.target.classList.contains("btn")||(e.target.classList.toggle("collapsedItem"),e.target.classList.toggle("expandedItem"))}},{key:"renderItemList",value:function(e,t){var n=this;return e.map((function(e,t){return Object(g.jsxs)(y.a,{className:"collapsedItem",onClick:function(e){return n.onItemSelected(t,e)},children:[e.name?e.name:"Unknown",n.ItemDetails(t,e)]},t)}))}},{key:"renderPagination",value:function(e){var t=this,n=[],a=1===e?e:2===e?e-1:e-2,s=1===e?e+5:2===e?e+4:e+3;this.state.itemList.length<10&&(s=e+1);for(var c=a;c<s;c++){n.push(function(e){var n=t.state.page===e;return Object(g.jsx)(N.a,{id:e,active:n,children:Object(g.jsx)(L.a,{onClick:function(){return t.getItemList(e)},children:e})})}(c))}return n}},{key:"render",value:function(){var e=this,t=this.state.itemList,n=this.renderItemList(t),a=this.renderPagination(this.state.page),s=1===this.state.page;return console.log("rendering Item list..."),Object(g.jsxs)(k.a,{className:"all-Item-list margin mw400 ovh",children:[Object(g.jsx)(y.a,{className:"tac",children:Object(g.jsxs)("h3",{children:["All ",this.state.art]})}),n,Object(g.jsx)(y.a,{children:Object(g.jsxs)(R.a,{children:[Object(g.jsx)(N.a,{children:Object(g.jsx)(L.a,{first:!0,disabled:s,onClick:function(){return e.getItemList(1)}})}),Object(g.jsx)(N.a,{children:Object(g.jsx)(L.a,{previous:!0,disabled:s,onClick:function(){return e.getItemList(e.state.page-1)}})}),a,Object(g.jsx)(N.a,{children:Object(g.jsx)(L.a,{next:!0,onClick:function(){return e.getItemList(e.state.page+1)}})}),Object(g.jsx)(N.a,{children:Object(g.jsx)(L.a,{last:!0,onClick:function(){return e.getItemList(100)}})})]})})]})}}]),n}(a.Component),S=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={visible:!1},e.toggleRandom=function(){e.setState({visible:!e.state.visible})},e.qwe=function(){return e.state.visible?Object(g.jsx)(C,{}):Object(g.jsx)(g.Fragment,{})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=!0===this.state.visible?"primary":"secondary";return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(v,{}),Object(g.jsx)(w.a,{color:e,className:"margin btn-toggle-random mw400",onClick:this.toggleRandom,children:"Random Character"}),Object(g.jsx)(this.qwe,{closeRandom:this.closeRandom}),Object(g.jsx)(D,{})]})}}]),n}(a.Component);n(38);r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(S,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.d4266337.chunk.js.map